(function(){"use strict";angular.module("deePAuth").factory("accountService",["$http","$q","authorizationServiceUrl","accountContext",function(n,t,i,r){var f=function(){return n.get(i+"api/accounts/getuser")},u=function(){r.username=null;r.roles=null;r.accessToken=null},e=function(e){u();var o=t.defer(),s="grant_type=password&username="+encodeURIComponent(e.username)+"&password="+encodeURIComponent(e.password);return n.post(i+"oauth/token",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(n){r.username=e.username;r.accessToken=n.data.access_token;f().then(function(n){r.roles=n.data.roles;o.resolve(r)},function(n,t){o.reject(n,t)})},function(n,t){o.reject(n,t)}),o.promise},o=function(t){return u(),n.post(i+"api/accounts/createseller",t)},s=function(t){return u(),n.post(i+"api/accounts/createbuyer",t)};return{login:e,logout:u,registerSeller:o,registerBuyer:s}}])})();
//# sourceMappingURL=accountService.min.js.map
