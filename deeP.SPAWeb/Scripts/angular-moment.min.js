"format amd";(function(){"use strict";function n(n,t){return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(t,i,r,u,f){return function(e,o,s){function p(){var n,t,r;return a?n=a:u.serverTime?(t=(new Date).getTime(),r=t-it+u.serverTime,n=i(r)):n=i(),n}function w(){l&&(t.clearTimeout(l),l=null)}function nt(n){var f=p().diff(n,"day"),u=y&&f>=y,r,i;u?o.text(n.format(d)):o.text(n.from(p(),v));k&&!o.attr("title")&&o.attr("title",n.local().format(k));u||(r=Math.abs(p().diff(n,"minute")),i=3600,r<1?i=1:r<60?i=30:r<180&&(i=300),l=t.setTimeout(function(){nt(n)},i*1e3))}function tt(n){ut&&o.attr("datetime",n)}function h(){if(w(),c){var n=r.preprocessDate(c,g,b);nt(n);tt(n.toISOString())}}var l=null,c,b=f.format,v=u.withoutSuffix,k=u.titleFormat,y=u.fullDateThreshold,d=u.fullDateFormat,it=(new Date).getTime(),g=f.preprocess,rt=s.amTimeAgo,a,ut="TIME"===o[0].nodeName.toUpperCase();e.$watch(rt,function(n){if(typeof n=="undefined"||n===null||n===""){w();c&&(o.text(""),tt(""),c=null);return}c=n;h()});n.isDefined(s.amFrom)&&e.$watch(s.amFrom,function(n){a=typeof n=="undefined"||n===null||n===""?null:i(n);h()});n.isDefined(s.amWithoutSuffix)&&e.$watch(s.amWithoutSuffix,function(n){typeof n=="boolean"?(v=n,h()):v=u.withoutSuffix});s.$observe("amFormat",function(n){typeof n!="undefined"&&(b=n,h())});s.$observe("amPreprocess",function(n){g=n;h()});s.$observe("amFullDateThreshold",function(n){y=n;h()});s.$observe("amFullDateFormat",function(n){d=n;h()});e.$on("$destroy",function(){w()});e.$on("amMoment:localeChanged",function(){h()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,i,r,u){this.preprocessors={utc:t.utc,unix:t.unix};this.changeLocale=function(r,u){var f=t.locale(r,u);return n.isDefined(r)&&i.$broadcast("amMoment:localeChanged"),f};this.changeTimezone=function(n){u.timezone=n;i.$broadcast("amMoment:timezoneChanged")};this.preprocessDate=function(i,f,e){return(n.isUndefined(f)&&(f=u.preprocess),this.preprocessors[f])?this.preprocessors[f](i,e):(f&&r.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(i))&&isFinite(i))?t(parseInt(i,10)):t(i,e)};this.applyTimezone=function(n,t){return(t=t||u.timezone,!t)?n:(t.match(/^Z|[+-]\d\d:?\d\d$/i)?n=n.utcOffset(t):n.tz?n=n.tz(t):r.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?"),n)}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(i,r,u){if(typeof i=="undefined"||i===null)return"";i=t.preprocessDate(i,r);var f=n(i);return f.isValid()?t.applyTimezone(f,u).calendar():""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(i,r,u,f,e,o){var h,s;if(typeof i=="undefined"||i===null||(i=t.preprocessDate(i,e),h=n(i),!h.isValid()))return"";if(typeof r=="undefined"||r===null)s=n();else if(r=t.preprocessDate(r,o),s=n(r),!s.isValid())return"";return t.applyTimezone(h).diff(t.applyTimezone(s),u,f)}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(r,u,f,e,o){var h=o||i.format,s;return typeof r=="undefined"||r===null?"":(r=t.preprocessDate(r,f,h),s=n(r),!s.isValid())?"":t.applyTimezone(s,e).format(u)}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(n,t){function i(t,i,r){return typeof t=="undefined"||t===null?"":n.duration(t,i).humanize(r)}return i.$stateful=t.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(n,t,i){function r(i,r,u,f){var e,o;return typeof i=="undefined"||i===null?"":(i=t.preprocessDate(i,r),e=n(i),!e.isValid())?"":(o=n(f),typeof f!="undefined"&&o.isValid())?t.applyTimezone(e).from(o,u):t.applyTimezone(e).fromNow(u)}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(n,t){function i(t,i,r){return typeof t=="undefined"||t===null?"":n(t).subtract(parseInt(i,10),r)}return i.$stateful=t.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(n,t){function i(t,i,r){return typeof t=="undefined"||t===null?"":n(t).add(parseInt(i,10),r)}return i.$stateful=t.statefulFilters,i}])}typeof define=="function"&&define.amd?define(["angular","moment"],n):typeof module!="undefined"&&module&&module.exports?(n(angular,require("moment")),module.exports="angularMoment"):n(angular,(typeof global!="undefined"?global:window).moment)})();
//# sourceMappingURL=angular-moment.min.js.map
